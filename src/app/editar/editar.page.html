<ion-header>
  <ion-toolbar>
    <ion-button fill="clear" [routerLink]="['/misproductos', id_usuario]" routerDirection="forward">
      <ion-icon name="arrow-back"></ion-icon>
      <ion-item>
        <ion-title style="font-weight: bold">EDITAR: {{articulo?.titulo}}</ion-title>
      </ion-item>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div *ngIf="categoria == 0">
    <form (ngSubmit)="modificarArticulo()">
      <ion-list>

        <div *ngIf="articulo?.foto[0]!==''">
          <ion-item lines="none">
            <ion-label class=labelItem>Foto/s:</ion-label>
          </ion-item>
          <ion-item>
            <ion-row>
              <div *ngFor='let foto of articulo?.foto; let ind = index'>
                <ion-img class="foto" [src]="foto"></ion-img>
              </div>
            </ion-row>
          </ion-item>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Título*:</ion-label>
          <ion-input [formControl]="generalForm.controls.titulo" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.titulo">
          <ng-container *ngIf="titulo.hasError(error.type) && (titulo.dirty || titulo.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Descripción:</ion-label>
          <ion-textarea [formControl]="generalForm.controls.descripcion" inputmode="text"></ion-textarea>
        </ion-item>
        <div *ngFor="let error of errorMessages.descripcion">
          <ng-container *ngIf="descripcion.hasError(error.type) && (descripcion.dirty || descripcion.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item lines="full">
          <ion-label class=labelItem>Tipología:</ion-label>
          <ion-radio-group [formControl]="motorForm.controls.tipologia" checked>
            <ion-item lines="none">
              <ion-label>Coche</ion-label>
              <ion-radio slot="start" value="Coche" checked>Coche</ion-radio>
            </ion-item>
            <ion-item lines="none">
              <ion-label>Motocicleta</ion-label>
              <ion-radio slot="start" value="Motocicleta">Moto</ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-item>

        <ion-item>
          <ion-label class=labelItem position="floating">Kilometraje:</ion-label>
          <ion-input [formControl]="motorForm.controls.kilometraje" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.enteroPositivo">
          <ng-container *ngIf="kilometraje.hasError(error.type) && (kilometraje.dirty || kilometraje.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Año:</ion-label>
          <ion-datetime [formControl]="motorForm.controls.anyo" displayFormat="YYYY" min="1981" max="2020">
          </ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label class=labelItem position="floating">Precio*:</ion-label>
          <ion-input [formControl]="generalForm.controls.precio" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.precio">
          <ng-container *ngIf="precio.hasError(error.type) && (precio.dirty || precio.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

      </ion-list>
      <ion-button type="submit" expand="full">Guardar cambios</ion-button>
    </form><br>
  </div>

  <div *ngIf="categoria == 1">
    <form (ngSubmit)="modificarArticulo()">
      <ion-list>

        <div *ngIf="articulo?.foto[0]!==''">
          <ion-item lines="none">
            <ion-label class=labelItem>Foto/s:</ion-label>
          </ion-item>
          <ion-item>
            <ion-row>
              <div *ngFor='let foto of articulo?.foto; let ind = index'>
                <ion-img class="foto" [src]="foto"></ion-img>
              </div>
            </ion-row>
          </ion-item>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Título*:</ion-label>
          <ion-input [formControl]="generalForm.controls.titulo" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.titulo">
          <ng-container *ngIf="titulo.hasError(error.type) && (titulo.dirty || titulo.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Descripción:</ion-label>
          <ion-textarea [formControl]="generalForm.controls.descripcion" inputmode="text"></ion-textarea>
        </ion-item>
        <div *ngFor="let error of errorMessages.descripcion">
          <ng-container *ngIf="descripcion.hasError(error.type) && (descripcion.dirty || descripcion.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Metros cuadrados:</ion-label>
          <ion-input [formControl]="inmobiliariaForm.controls.metros" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.enteroPositivo">
          <ng-container *ngIf="metros.hasError(error.type) && (metros.dirty || metros.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Habitaciones:</ion-label>
          <ion-input [formControl]="inmobiliariaForm.controls.habitaciones" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.enteroPositivo">
          <ng-container *ngIf="habitaciones.hasError(error.type) && (habitaciones.dirty || habitaciones.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Localidad:</ion-label>
          <ion-textarea [formControl]="inmobiliariaForm.controls.localidad" inputmode="text"></ion-textarea>
        </ion-item>

        <ion-item>
          <ion-label class=labelItem position="floating">Precio*:</ion-label>
          <ion-input [formControl]="generalForm.controls.precio" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.precio">
          <ng-container *ngIf="precio.hasError(error.type) && (precio.dirty || precio.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

      </ion-list>
      <ion-button type="submit" expand="full">Guardar cambios</ion-button>
    </form><br>
  </div>

  <div *ngIf="categoria == 2">
    <form (ngSubmit)="modificarArticulo()">
      <ion-list>

        <div *ngIf="articulo?.foto[0]!==''">
          <ion-item lines="none">
            <ion-label class=labelItem>Foto/s:</ion-label>
          </ion-item>
          <ion-item>
            <ion-row>
              <div *ngFor='let foto of articulo?.foto; let ind = index'>
                <ion-img class="foto" [src]="foto"></ion-img>
              </div>
            </ion-row>
          </ion-item>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Título*:</ion-label>
          <ion-input [formControl]="generalForm.controls.titulo" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.titulo">
          <ng-container *ngIf="titulo.hasError(error.type) && (titulo.dirty || titulo.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Descripción:</ion-label>
          <ion-textarea [formControl]="generalForm.controls.descripcion" inputmode="text"></ion-textarea>
        </ion-item>
        <div *ngFor="let error of errorMessages.descripcion">
          <ng-container *ngIf="descripcion.hasError(error.type) && (descripcion.dirty || descripcion.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item lines="full">
          <ion-label class=labelItem>Estado:</ion-label>
          <ion-radio-group [formControl]="tecnologiaForm.controls.estado">
            <ion-item lines="none">
              <ion-label>Perfecto estado</ion-label>
              <ion-radio slot="start" value="Perfecto estado">Perfecto estado</ion-radio>
            </ion-item>
            <ion-item lines="none">
              <ion-label>Usado</ion-label>
              <ion-radio slot="start" value="Usado">Usado</ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-item>

        <ion-item>
          <ion-label class=labelItem position="floating">Precio*:</ion-label>
          <ion-input [formControl]="generalForm.controls.precio" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.precio">
          <ng-container *ngIf="precio.hasError(error.type) && (precio.dirty || precio.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

      </ion-list>
      <ion-button type="submit" expand="full">Guardar cambios</ion-button>
    </form><br>
  </div>

  <div *ngIf="categoria == 3">
    <form (ngSubmit)="modificarArticulo()">
      <ion-list>

        <div *ngIf="articulo?.foto[0]!==''">
          <ion-item lines="none">
            <ion-label class=labelItem>Foto/s:</ion-label>
          </ion-item>
          <ion-item>
            <ion-row>
              <div *ngFor='let foto of articulo?.foto; let ind = index'>
                <ion-img class="foto" [src]="foto"></ion-img>
              </div>
            </ion-row>
          </ion-item>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Título*:</ion-label>
          <ion-input [formControl]="generalForm.controls.titulo" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.titulo">
          <ng-container *ngIf="titulo.hasError(error.type) && (titulo.dirty || titulo.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Descripción:</ion-label>
          <ion-textarea [formControl]="generalForm.controls.descripcion" inputmode="text"></ion-textarea>
        </ion-item>
        <div *ngFor="let error of errorMessages.descripcion">
          <ng-container *ngIf="descripcion.hasError(error.type) && (descripcion.dirty || descripcion.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

        <ion-item>
          <ion-label class=labelItem position="floating">Precio*:</ion-label>
          <ion-input [formControl]="generalForm.controls.precio" inputmode="text"></ion-input>
        </ion-item>
        <div *ngFor="let error of errorMessages.precio">
          <ng-container *ngIf="precio.hasError(error.type) && (precio.dirty || precio.touched)">
            <small class="error-message">
              <ion-icon name="alert"></ion-icon>{{error.message}}
            </small>
          </ng-container>
        </div>

      </ion-list>
      <ion-button type="submit" expand="full">Guardar cambios</ion-button>
    </form><br>
  </div>

</ion-content>